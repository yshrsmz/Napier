import org.jetbrains.kotlin.gradle.targets.js.webpack.KotlinWebpackConfig

apply plugin: 'org.jetbrains.kotlin.js'

dependencies {
    implementation project(':napier')
    implementation project(':mpp-sample')

    implementation rootProject.ext.kotlinJs
    implementation rootProject.ext.coroutineJs
}

kotlin {
    target {
        browser {
            runTask {
                devServer = new KotlinWebpackConfig.DevServer(
                        true, false, true, true, false,
                        8080,
                        null,
                        ["${projectDir}/src/main/resources".toString()]
                )
                archiveFileName = 'main.js'
            }
            webpackTask {
                archiveFileName = 'main.js'
            }
        }
    }
}
